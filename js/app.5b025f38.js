(function(t){function e(e){for(var r,s,c=e[0],i=e[1],u=e[2],l=0,p=[];l<c.length;l++)s=c[l],a[s]&&p.push(a[s][0]),a[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},a={app:0},o=[];function s(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"1383eeaa"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=a[t]=[e,r]});e.push(n[2]=r);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.src=s(t),o=function(e){i.onerror=i.onload=null,clearTimeout(u);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");s.type=r,s.request=o,n[1](s)}a[t]=void 0}};var u=setTimeout(function(){o({type:"timeout",target:i})},12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},1:function(t,e){},2:function(t,e){},"20c6":function(t,e,n){t.exports=n.p+"img/logo_1.28063f52.svg"},3:function(t,e){},4:function(t,e){},4257:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("nav-bar"),n("div",{staticClass:"main"},[n("router-view")],1)],1)},o=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"main-nav"},[r("router-link",{staticClass:"nav-item nav-item--logo",attrs:{to:"/","exact-active-class":"active"}},[r("div",{staticClass:"logo"}),r("div",{staticClass:"logo-wrapper"},[r("img",{staticClass:"logo logo-rotation-1",attrs:{alt:"nile",src:n("20c6")}}),r("img",{staticClass:"logo logo-rotation-2",attrs:{alt:"nile",src:n("20c6")}}),r("img",{staticClass:"logo logo-rotation-3",attrs:{alt:"nile",src:n("20c6")}}),r("img",{staticClass:"logo logo-rotation-4",attrs:{alt:"nile",src:n("20c6")}})]),r("img",{staticClass:"nile-typo",attrs:{alt:"nile typo",src:n("c94f")}})]),r("div",{staticClass:"nav-menu"},[r("router-link",{staticClass:"nav-item",attrs:{to:"/products","active-class":"active"}},[r("span",[t._v("Products")])]),r("router-link",{staticClass:"nav-item",attrs:{to:"/cart","active-class":"active"}},[r("span",[t._v("Shopping Cart ("+t._s(t.itemsInCart)+")")])])],1)],1)},c=[],i=n("2f62"),u={computed:{itemsInCart:function(){var t=this.$store.getters.cartProducts;return t.reduce(function(t,e){return t+e.quantity},0)}}},l=u,d=(n("ed6b"),n("2877")),p=Object(d["a"])(l,s,c,!1,null,null,null),h=p.exports,f={name:"app",components:{NavBar:h},data:function(){return{}},created:function(){console.log(this.$route.query.root);var t=this.$route.query.root||"9SSFOA9EPGVZIYATPCITVUNBMWAZL9LUQQFUKYAPKBBENEXPJRLUUTQXPYXKFMUGTTP9UGJGEHUGKDPRJ";this.$store.dispatch("fetchShopDetails",t).then(function(){console.log("loaded")})}},m=f,v=(n("034f"),Object(d["a"])(m,a,o,!1,null,null,null)),g=v.exports,b=n("8c4f"),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Home")],1)},y=[],w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("h1",[t._v("Nile shopping demo")]),r("p",[t._v("You can browse stores, products and even buy them with iota tokens! It's 100% feeless!")]),r("router-link",{attrs:{to:"/products"}},[t._v("Discover Products!")]),r("h2",[t._v("\n    Your connected to store:\n    "),r("strong",[t._v(t._s(t.shop.data.name))])]),r("h3",[t._v("Connect to another shop?")]),r("el-form",{attrs:{inline:!0,model:t.form}},[r("el-form-item",{attrs:{label:"Fill in shop root"}},[r("el-input",{attrs:{placeholder:"Shop root address"},model:{value:t.form.root,callback:function(e){t.$set(t.form,"root",e)},expression:"form.root"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Change Shop")])],1)],1),r("div",{staticClass:"section section--use-case",attrs:{id:"use-cases"}},[r("div",{staticClass:"container"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("h3",{staticClass:"section-hero"},[t._v("Features")]),r("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[r("el-collapse-item",{attrs:{name:"1"}},[r("template",{slot:"title"},[r("span",[r("span",{staticClass:"counter"},[t._v("1")]),t._v("Discover local shops\n                ")])]),r("div",[t._v("Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to;")]),r("div",[t._v("Consistent within interface: all elements should be consistent, such as: design style, icons and texts, position of elements, etc.")])],2),r("el-collapse-item",{attrs:{name:"2"}},[r("template",{slot:"title"},[r("span",[r("span",{staticClass:"counter"},[t._v("2")]),t._v("Buy online with same day delivery\n                ")])]),r("div",[t._v("Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects;")]),r("div",[t._v("Visual feedback: reflect current state by updating or rearranging elements of the page.")])],2),r("el-collapse-item",{attrs:{name:"3"}},[r("template",{slot:"title"},[r("span",[r("span",{staticClass:"counter"},[t._v("3")]),t._v(" Privacy by design\n                ")])]),r("div",[t._v("Simplify the process: keep operating process simple and intuitive;")]),r("div",[t._v("Definite and clear: enunciate your intentions clearly so that the users can quickly understand and make decisions;")]),r("div",[t._v("Easy to identify: the interface should be straightforward, which helps the users to identify and frees them from memorizing and recalling.")])],2)],1)],1),r("el-col",{attrs:{span:12}},[r("img",{attrs:{alt:"vendor",src:n("a8c3")}})])],1)],1)])],1)},C=[],O={name:"Home",data:function(){return{activeNames:["1"],form:{root:""}}},computed:{shop:function(){return this.$store.getters.getShopDetails}},methods:{onSubmit:function(){console.log("submit!",this.form),this.$store.dispatch("fetchShopDetails",this.form.root).then(function(){console.log("new shop loaded")})},handleChange:function(t){console.log(t)}}},T=O,P=(n("dbc2"),Object(d["a"])(T,w,C,!1,null,null,null)),S=P.exports,E={name:"home",components:{Home:S}},j=E,x=Object(d["a"])(j,_,y,!1,null,null,null),k=x.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title"},[t._v("All Products")]),n("p",[t._v(t._s(t.length)+" products")]),n("el-row",{attrs:{gutter:12}},t._l(t.products,function(e){return n("el-col",{key:e.data.id,attrs:{span:8}},[n("el-card",{attrs:{shadow:"hover"}},[n("h3",[t._v("Title: "+t._s(e.data.title))]),n("p",[t._v(t._s(e.data.desc))]),n("p",[t._v("Price: "+t._s(e.data.price)+"€")]),n("el-button",{attrs:{type:"primary",round:""},on:{click:function(n){return t.addToCart(e)}}},[t._v("Add to cart")])],1)],1)}),1)],1)},q=[],$={name:"app",computed:Object(i["c"])({products:"allProducts",length:"getNumberOfProducts"}),methods:Object(i["b"])(["addToCart"])},A=$,N=Object(d["a"])(A,D,q,!1,null,null,null),R=N.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart"},[n("h1",{staticClass:"title"},[t._v("Your Shopping Cart")]),n("p",[t._v("For shop: "+t._s(t.shop.data.name))]),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.products.length,expression:"!products.length"}]},[n("i",[t._v("Your cart is empty!")]),n("router-link",{attrs:{to:"/products"}},[t._v("Go shopping")])],1),n("el-table",{directives:[{name:"show",rawName:"v-show",value:t.products.length,expression:"products.length"}],staticStyle:{width:"100%"},attrs:{data:t.products}},[n("el-table-column",{attrs:{prop:"title",label:"Title",width:"180"}}),n("el-table-column",{attrs:{prop:"price",label:"Price (in EUR)",width:"180"}}),n("el-table-column",{attrs:{prop:"quantity",label:"Quantity"}})],1),n("el-card",{attrs:{shadow:"always"}},[n("b",[t._v("Total:")]),t._v("\n      "+t._s(t.total)+" €\n    ")]),n("br"),n("el-button",{directives:[{name:"show",rawName:"v-show",value:t.products.length,expression:"products.length"}],attrs:{type:"primary",round:""},on:{click:t.checkout}},[t._v("Checkout")])],1)},U=[],F=n("f499"),H=n.n(F),M=n("cebc"),B=n("7dc5"),J=n("b7ec"),Y=(n("9c29"),n("0a0d"),n("795b"),n("96cf"),n("3b8d")),G=n("23e4"),K=n.n(G),L=n("50f1"),V=function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=K.a.init(B["a"],X,2),r=K.a.changeMode(r,"restricted","TEST"),n="TEST",t.prev=3,a=[],o=function(t){var e=JSON.parse(Object(L["trytesToAscii"])(t));a.push(e)},t.next=8,K.a.fetch(e,"restricted",n,o);case 8:return t.abrupt("return",a[a.length-1]);case 11:return t.prev=11,t.t0=t["catch"](3),console.error("fetchItem:","\n",t.t0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}},t,null,[[3,11]])}));return function(e,n){return t.apply(this,arguments)}}(),Q=function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=K.a.init(B["a"],X(),2),r=K.a.changeMode(r,"restricted",n),t.prev=2,a=[],o=function(t){var e=JSON.parse(Object(L["trytesToAscii"])(t));a.push(e)},t.next=7,K.a.fetch(e,"restricted",n,o);case 7:return t.abrupt("return",a[0]);case 10:return t.prev=10,t.t0=t["catch"](2),console.error("fetchItem:","\n",t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}(),X=function(){if(window.crypto&&window.crypto.getRandomValues){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ9",e="",n=new Uint32Array(81);return window.crypto.getRandomValues(n),n.forEach(function(n){return e+=t[n%t.length]}),e}throw new Error("Your browser is outdated and cant generate secure random numbers")},Z=function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e,n){var r,a,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=K.a.init(B["a"],X,2),r=K.a.changeMode(r,"restricted",n),t.prev=2,a=[],o=function(t){var e=JSON.parse(Object(L["trytesToAscii"])(t));a.push(e)},t.next=7,K.a.fetch(e,"restricted",n,o);case 7:return t.abrupt("return",a);case 10:return t.prev=10,t.t0=t["catch"](2),console.error("fetchItem:","\n",t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}(),z=n("50f1"),W=Object(J["composeAPI"])({provider:B["a"]}),tt={computed:Object(M["a"])({},Object(i["c"])({products:"cartProducts"}),{total:function(){return this.products.reduce(function(t,e){return t+e.price*e.quantity},0)},shop:function(){return this.$store.state.shop}}),methods:{checkout:function(){var t=this;this.$confirm("If you press OK, a request will be sent to create an order which costs "+this.total+"€. Continue?","Order request!",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"success"}).then(function(){t.request_order(),t.$message({type:"success",message:"Order request completed"})}).catch(function(){t.$message({type:"info",message:"Order request canceled"})})},request_order:function(){console.log("request_order"),console.log("this.shop",this.shop);var t=X();console.log("products",this.products);var e={name:"nile shopping application",products:this.products},n=z.asciiToTrytes(H()(e)),r=[{address:this.shop.order_request_address,value:0,tag:"",message:n}];console.log("transfers",r);var a=3,o=14;W.prepareTransfers(t,r).then(function(t){return W.sendTrytes(t,a,o)}).then(function(t){console.log("Published transaction with tail hash: ".concat(t[0].hash)),console.log("Bundle: ".concat(t))}).catch(function(t){})}}},et=tt,nt=Object(d["a"])(et,I,U,!1,null,null,null),rt=nt.exports;r["default"].use(b["a"]);var at,ot=new b["a"]({routes:[{path:"/",name:"home",component:k},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/products",component:R},{path:"/cart",component:rt}]}),st=n("bd86"),ct=(n("7514"),"ADD_TO_CART"),it="FETCHED_SHOP_DETAILS",ut="FETCHED_PRODCUT";r["default"].use(i["a"]);var lt=!1,dt={added:[],all:[],shop:{data:{name:""}}},pt={allProducts:function(t){return t.all},getNumberOfProducts:function(t){return t.all?t.all.length:0},cartProducts:function(t){return t.added.map(function(e){var n=e.id,r=e.quantity,a=t.all.find(function(t){return t.data.id===n});return{title:a.data.title,price:a.data.price,quantity:r}})},getShopDetails:function(t){return t.shop}},ht={addToCart:function(t,e){var n=t.commit;console.log(e),n(ct,{id:e.data.id})},fetchShopDetails:function(t,e){var n=t.commit;Q(e,"TEST").then(function(t){n("FETCHED_SHOP_DETAILS",t),Z(t.catalog_root,"TEST").then(function(t){t.forEach(function(t){"add_blueprint"===t.status&&V(t.data.product).then(function(t){n("FETCHED_PRODCUT",t)})})})})}},ft=(at={},Object(st["a"])(at,ct,function(t,e){var n=e.id,r=t.added.find(function(t){return t.id===n});r?r.quantity++:t.added.push({id:n,quantity:1})}),Object(st["a"])(at,it,function(t,e){t.shop=e,t.all=[]}),Object(st["a"])(at,ut,function(t,e){t.all.push(e)}),at),mt=new i["a"].Store({state:dt,strict:lt,getters:pt,actions:ht,mutations:ft}),vt=n("5c96"),gt=n.n(vt);n("0fae");r["default"].use(gt.a),r["default"].config.productionTip=!1,new r["default"]({router:ot,store:mt,render:function(t){return t(g)}}).$mount("#app")},"64a9":function(t,e,n){},"7dc5":function(t){t.exports={a:"https://nutzdoch.einfachiota.de"}},a8c3:function(t,e,n){t.exports=n.p+"img/customer-circled.3c2c3ae1.jpg"},c94f:function(t,e,n){t.exports=n.p+"img/nile_typo.145aef09.svg"},dbc2:function(t,e,n){"use strict";var r=n("ea59"),a=n.n(r);a.a},ea59:function(t,e,n){},ed6b:function(t,e,n){"use strict";var r=n("4257"),a=n.n(r);a.a}});
//# sourceMappingURL=app.5b025f38.js.map